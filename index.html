<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Risk Advisor - Plan Your Journey Safely</title>
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ===== HEADER ===== */
        header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 2rem 1rem 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .tagline {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        /* ===== SEARCH BAR ===== */
        .search-container {
            max-width: 600px;
            margin: 1.5rem auto 0;
            position: relative;
        }

        #searchInput {
            width: 100%;
            padding: 0.875rem 3rem 0.875rem 1.25rem;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }

        #searchInput:focus {
            outline: none;
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);
        }

        .search-icon {
            position: absolute;
            right: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            pointer-events: none;
        }

        .clear-search {
            position: absolute;
            right: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            font-size: 1.25rem;
            display: none;
            padding: 0.25rem;
        }

        .clear-search:hover {
            color: #1f2937;
        }

        /* ===== AUTOCOMPLETE DROPDOWN ===== */
        .autocomplete-dropdown {
            position: absolute;
            top: calc(100% + 0.5rem);
            left: 0;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
        }

        .autocomplete-dropdown.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .autocomplete-item {
            padding: 0.875rem 1.25rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: background-color 0.2s ease;
            border-bottom: 1px solid #f3f4f6;
        }

        .autocomplete-item:last-child {
            border-bottom: none;
        }

        .autocomplete-item:hover {
            background-color: #f3f4f6;
        }

        .risk-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .country-name {
            font-weight: 500;
        }

        /* ===== MAP SECTION ===== */
        .map-section {
            padding: 2rem 1rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .map-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        #worldMap {
            width: 100%;
            height: 600px;
            background: #dbeafe;
            border-radius: 8px;
        }

        /* ===== TOOLTIP ===== */
        .map-tooltip {
            position: absolute;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            pointer-events: none;
            display: none;
            z-index: 100;
            min-width: 220px;
        }

        .map-tooltip.show {
            display: block;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .tooltip-country {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
        }

        .tooltip-risk {
            margin-bottom: 0.5rem;
        }

        .risk-label {
            font-size: 0.75rem;
            color: #6b7280;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .risk-bar-container {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.75rem;
        }

        .risk-bar {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* ===== MODAL ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 1rem;
        }

        .modal-overlay.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal {
            background: white;
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 2rem;
            border-bottom: 2px solid #f3f4f6;
            position: relative;
        }

        .modal-title {
            font-size: 1.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .flag-icon {
            font-size: 2rem;
        }

        .overall-risk {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            margin-top: 1rem;
            font-size: 0.875rem;
        }

        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            font-size: 1.75rem;
            color: #6b7280;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .close-modal:hover {
            background: #f3f4f6;
            color: #1f2937;
        }

        .modal-body {
            padding: 2rem;
        }

        .risk-category {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .risk-category:last-of-type {
            border-bottom: none;
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .category-name {
            font-weight: 700;
            font-size: 1.1rem;
            color: #1f2937;
        }

        .category-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .category-description {
            color: #4b5563;
            line-height: 1.6;
        }

        .advisory-section {
            background: #f0f9ff;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #3b82f6;
        }

        .advisory-title {
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 0.5rem;
        }

        .advisory-text {
            color: #1e3a8a;
            font-size: 0.9rem;
        }

        .sources-section {
            background: #f9fafb;
            padding: 1.5rem;
            border-radius: 8px;
        }

        .sources-title {
            font-weight: 700;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }

        .source-links {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .source-link {
            color: #3b82f6;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }

        .source-link:hover {
            color: #2563eb;
            text-decoration: underline;
        }

        .last-updated {
            color: #6b7280;
            font-size: 0.85rem;
            font-style: italic;
        }

        /* ===== FOOTER ===== */
        footer {
            text-align: center;
            padding: 2rem 1rem;
            color: #6b7280;
            font-size: 0.875rem;
        }

        /* ===== RISK LEVEL COLORS ===== */
        .risk-green {
            background-color: #10b981;
        }

        .risk-yellow {
            background-color: #fbbf24;
        }

        .risk-orange {
            background-color: #f97316;
        }

        .risk-red {
            background-color: #ef4444;
        }

        .badge-green {
            background-color: #d1fae5;
            color: #065f46;
        }

        .badge-yellow {
            background-color: #fef3c7;
            color: #92400e;
        }

        .badge-orange {
            background-color: #ffedd5;
            color: #9a3412;
        }

        .badge-red {
            background-color: #fee2e2;
            color: #991b1b;
        }

        /* ===== SVG MAP STYLES ===== */
        .country-path {
            fill: #e5e7eb;
            stroke: #9ca3af;
            stroke-width: 0.5;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .country-path:hover {
            filter: brightness(1.1);
            stroke: #1f2937;
            stroke-width: 1;
        }

        .country-path.has-data {
            opacity: 1;
        }

        /* ===== MOBILE RESPONSIVENESS ===== */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            .tagline {
                font-size: 0.875rem;
            }

            #worldMap {
                height: 400px;
            }

            .modal {
                max-height: 95vh;
                margin: 0.5rem;
            }

            .modal-header {
                padding: 1.5rem;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .map-container {
                padding: 1rem;
            }

            .map-tooltip {
                min-width: 180px;
                font-size: 0.85rem;
            }
        }

        /* ===== LOADING STATE ===== */
        .loading {
            text-align: center;
            padding: 3rem;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Travel Risk Advisor</h1>
        <p class="tagline">Plan your journey with confidence - Real-time travel safety information</p>
        
        <!-- Search Bar -->
        <div class="search-container">
            <input 
                type="text" 
                id="searchInput" 
                placeholder="Search for a country..."
                autocomplete="off"
                aria-label="Search for a country"
            >
            <span class="search-icon" id="searchIcon">üîç</span>
            <button class="clear-search" id="clearSearch" aria-label="Clear search">√ó</button>
            
            <!-- Autocomplete Dropdown -->
            <div class="autocomplete-dropdown" id="autocompleteDropdown" role="listbox"></div>
        </div>
    </header>

    <!-- Map Section -->
    <section class="map-section">
        <div class="map-container">
            <svg id="worldMap" viewBox="0 0 1000 500" preserveAspectRatio="xMidYMid meet">
                <!-- SVG paths will be inserted here by JavaScript -->
            </svg>
            
            <!-- Tooltip -->
            <div class="map-tooltip" id="mapTooltip" role="tooltip"></div>
        </div>
    </section>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="modal" role="dialog" aria-modal="true">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <button class="close-modal" id="closeModal" aria-label="Close modal">√ó</button>
                <div id="overallRiskBadge"></div>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>Travel Risk Advisor - Information for reference purposes only. Always check official government sources before traveling.</p>
    </footer>

    <script>
        // ===== DUMMY DATA =====
        const countryData = {
            'USA': {
                name: 'United States',
                flag: 'üá∫üá∏',
                overallRisk: 'green',
                risks: {
                    security: { level: 'green', text: 'Low crime rates in most areas. Standard precautions advised in major cities. Some areas may have higher crime rates, but generally safe for travelers.' },
                    health: { level: 'green', text: 'World-class medical facilities available nationwide. No major health concerns. Health insurance recommended for visitors due to high medical costs.' },
                    political: { level: 'green', text: 'Stable democratic government with strong institutions. Peaceful transitions of power. Demonstrations are generally peaceful and lawful.' }
                },
                advisory: 'The United States is generally safe for travelers. Exercise normal precautions and stay aware of your surroundings in urban areas.',
                lastUpdated: 'January 15, 2026'
            },
            'France': {
                name: 'France',
                flag: 'üá´üá∑',
                overallRisk: 'yellow',
                risks: {
                    security: { level: 'yellow', text: 'Elevated terrorism threat level. Increased security presence at tourist sites. Petty crime common in major cities, especially Paris. Stay vigilant in crowded areas.' },
                    health: { level: 'green', text: 'Excellent healthcare system with modern facilities. No significant health risks. European Health Insurance Card accepted for EU citizens.' },
                    political: { level: 'green', text: 'Stable democracy with occasional protests. Demonstrations can sometimes turn disruptive but are generally peaceful. Avoid protest areas.' }
                },
                advisory: 'Exercise increased caution due to terrorism threats. Avoid demonstrations and remain aware of your surroundings at all times, especially in tourist areas.',
                lastUpdated: 'January 20, 2026'
            },
            'Japan': {
                name: 'Japan',
                flag: 'üáØüáµ',
                overallRisk: 'green',
                risks: {
                    security: { level: 'green', text: 'One of the safest countries globally with very low crime rates. Excellent public safety infrastructure. Natural disasters (earthquakes, typhoons) are the main concern.' },
                    health: { level: 'green', text: 'Outstanding medical facilities and healthcare system. High hygiene standards. Air quality generally excellent except during certain seasonal conditions.' },
                    political: { level: 'green', text: 'Highly stable democratic government. Peaceful society with strong rule of law. No significant political unrest or instability concerns.' }
                },
                advisory: 'Japan is extremely safe for travelers. Follow local guidance during natural disasters and respect cultural norms for a smooth visit.',
                lastUpdated: 'January 18, 2026'
            },
            'Egypt': {
                name: 'Egypt',
                flag: 'üá™üá¨',
                overallRisk: 'orange',
                risks: {
                    security: { level: 'orange', text: 'Terrorism threat in certain areas, particularly Sinai Peninsula. Avoid border regions. Tourist sites generally well-protected but remain vigilant. Petty crime in tourist areas.' },
                    health: { level: 'yellow', text: 'Medical facilities adequate in major cities but limited in rural areas. Water-borne diseases possible. Drink bottled water only. Heat exhaustion risk during summer.' },
                    political: { level: 'yellow', text: 'Politically stable government but occasional protests. Avoid demonstrations and political gatherings. Security forces maintain strong presence in cities.' }
                },
                advisory: 'Reconsider travel to certain areas. Avoid Sinai Peninsula except resort areas. Stay in tourist zones and use registered tour operators.',
                lastUpdated: 'January 12, 2026'
            },
            'Brazil': {
                name: 'Brazil',
                flag: 'üáßüá∑',
                overallRisk: 'orange',
                risks: {
                    security: { level: 'orange', text: 'High crime rates in urban areas including armed robbery and carjacking. Avoid favelas and isolated areas. Express kidnappings occur. Use authorized transportation only.' },
                    health: { level: 'yellow', text: 'Good medical facilities in major cities. Mosquito-borne diseases including dengue and Zika present. Yellow fever vaccination required for some areas. Water quality varies.' },
                    political: { level: 'yellow', text: 'Democratic government with occasional political tensions. Protests can occur and may turn violent. Avoid demonstrations and politically sensitive areas.' }
                },
                advisory: 'Exercise increased caution due to crime. Stay in well-traveled tourist areas, avoid displaying valuables, and be extra cautious at night.',
                lastUpdated: 'January 25, 2026'
            },
            'Ukraine': {
                name: 'Ukraine',
                flag: 'üá∫üá¶',
                overallRisk: 'red',
                risks: {
                    security: { level: 'red', text: 'Active armed conflict throughout the country. Ongoing military operations, missile strikes, and artillery fire. Landmines present in many areas. Extremely dangerous conditions.' },
                    health: { level: 'orange', text: 'Healthcare system severely disrupted by conflict. Limited medical facilities and supplies. Access to medical care extremely difficult in conflict zones. Disease outbreaks possible.' },
                    political: { level: 'orange', text: 'Country under martial law due to ongoing war. Government functioning but facing extraordinary circumstances. Unpredictable situation with rapid changes.' }
                },
                advisory: 'Do not travel to Ukraine due to active armed conflict. U.S. citizens in Ukraine should depart immediately. Conditions are extremely dangerous and unpredictable.',
                lastUpdated: 'January 28, 2026'
            },
            'Thailand': {
                name: 'Thailand',
                flag: 'üáπüá≠',
                overallRisk: 'yellow',
                risks: {
                    security: { level: 'yellow', text: 'Insurgent activity in southern provinces near Malaysian border. Avoid these areas. Petty crime and scams common in tourist areas. Tourist infrastructure generally safe.' },
                    health: { level: 'yellow', text: 'Good medical facilities in Bangkok and major cities. Dengue fever and other mosquito-borne diseases present. Air quality concerns in northern regions during burning season.' },
                    political: { level: 'green', text: 'Generally stable government. Occasional protests in Bangkok but typically peaceful. Respect for monarchy is legally required and strictly enforced.' }
                },
                advisory: 'Exercise increased caution in southern provinces. Elsewhere, use normal precautions and stay aware of your surroundings in tourist areas.',
                lastUpdated: 'January 22, 2026'
            },
            'Morocco': {
                name: 'Morocco',
                flag: 'üá≤üá¶',
                overallRisk: 'yellow',
                risks: {
                    security: { level: 'yellow', text: 'Terrorism threat exists but tourist areas generally safe. Petty crime including pickpocketing common in cities. Use caution in crowded areas and markets.' },
                    health: { level: 'yellow', text: 'Medical facilities adequate in major cities but limited in rural areas. Food and water-borne illnesses possible. Drink bottled water. Some facilities do not meet Western standards.' },
                    political: { level: 'green', text: 'Stable monarchy with peaceful governance. Occasional protests but generally small and peaceful. Avoid Western Sahara border areas due to territorial dispute.' }
                },
                advisory: 'Exercise increased caution. Morocco is generally safe for tourists. Use reputable tour operators and avoid isolated areas, especially after dark.',
                lastUpdated: 'January 10, 2026'
            },
            'India': {
                name: 'India',
                flag: 'üáÆüá≥',
                overallRisk: 'orange',
                risks: {
                    security: { level: 'orange', text: 'Terrorism threat exists, particularly in border regions and major cities. Avoid Kashmir and northeastern states. Petty crime and aggressive scamming common. Women travelers face additional safety concerns.' },
                    health: { level: 'orange', text: 'Healthcare quality varies greatly. Excellent facilities in major cities but poor in rural areas. Multiple disease risks including dengue, malaria, and food-borne illnesses. Air pollution severe in cities.' },
                    political: { level: 'yellow', text: 'Democratic government but occasional communal tensions and protests. Border disputes with Pakistan and China. Demonstrations can turn violent. Avoid politically sensitive areas.' }
                },
                advisory: 'Reconsider travel to certain areas including Kashmir. Use extra caution throughout the country. Hire reputable guides and stay in well-established tourist areas.',
                lastUpdated: 'January 16, 2026'
            },
            'Australia': {
                name: 'Australia',
                flag: 'üá¶üá∫',
                overallRisk: 'green',
                risks: {
                    security: { level: 'green', text: 'Very low crime rate with safe cities and tourist areas. Isolated incidents of petty crime in urban areas. Remote areas require preparation due to vast distances and harsh conditions.' },
                    health: { level: 'green', text: 'World-class healthcare system with modern facilities nationwide. No major disease concerns. Sun exposure and extreme heat main health considerations. Strong quarantine regulations.' },
                    political: { level: 'green', text: 'Highly stable democratic government with strong institutions. Peaceful political environment. No significant civil unrest or political instability.' }
                },
                advisory: 'Australia is very safe for travelers. Exercise normal precautions, prepare adequately for remote area travel, and follow local safety advice regarding wildlife and weather.',
                lastUpdated: 'January 19, 2026'
            },
            'South Africa': {
                name: 'South Africa',
                flag: 'üáøüá¶',
                overallRisk: 'orange',
                risks: {
                    security: { level: 'orange', text: 'High crime rates including violent crime, carjacking, and armed robbery. Avoid townships and isolated areas. Crime targets tourists. Use extreme caution after dark and secure transportation.' },
                    health: { level: 'yellow', text: 'Good medical facilities in major cities. Malaria risk in northern and eastern regions. HIV/AIDS prevalence high. Private healthcare recommended. Water generally safe in cities.' },
                    political: { level: 'yellow', text: 'Democratic government with occasional service delivery protests. Load shedding (power cuts) common. Demonstrations can turn violent. Avoid protest areas and informal settlements.' }
                },
                advisory: 'Reconsider travel due to crime and civil unrest. If traveling, remain vigilant at all times, avoid isolated areas, and use secure transportation.',
                lastUpdated: 'January 14, 2026'
            },
            'Mexico': {
                name: 'Mexico',
                flag: 'üá≤üáΩ',
                overallRisk: 'orange',
                risks: {
                    security: { level: 'orange', text: 'Violent crime including homicide, kidnapping, carjacking, and robbery widespread. Gang activity in many states. Resort areas generally safer but not immune. Avoid travel at night outside tourist zones.' },
                    health: { level: 'yellow', text: 'Healthcare quality varies by location. Good facilities in major cities and resort areas. Water-borne illnesses common. Drink bottled water only. Altitude sickness possible in Mexico City.' },
                    political: { level: 'green', text: 'Stable democratic government. Protests occur occasionally but are typically peaceful. Government faces challenges from organized crime in certain regions.' }
                },
                advisory: 'Exercise increased caution throughout Mexico. Some areas have higher risk levels. Stay in resort areas and tourist zones, avoid driving at night, and use authorized transportation.',
                lastUpdated: 'January 27, 2026'
            },
            'Turkey': {
                name: 'Turkey',
                flag: 'üáπüá∑',
                overallRisk: 'orange',
                risks: {
                    security: { level: 'orange', text: 'Terrorism threat exists, particularly in southeast near Syrian border. Avoid border regions. Increased security presence nationwide. Tourist areas generally safe but remain alert. Petty crime in cities.' },
                    health: { level: 'yellow', text: 'Good medical facilities in major cities and tourist areas. Limited facilities in rural regions. Air pollution concerns in large cities. Food and water generally safe in tourist areas.' },
                    political: { level: 'yellow', text: 'Politically stable but tense in certain regions. Occasional protests and demonstrations. Kurdish conflict in southeast. Avoid demonstrations and border areas with Syria and Iraq.' }
                },
                advisory: 'Reconsider travel to southeast Turkey near Syrian and Iraqi borders. Elsewhere, exercise increased caution. Tourist areas along coast generally safe with normal precautions.',
                lastUpdated: 'January 11, 2026'
            },
            'Canada': {
                name: 'Canada',
                flag: 'üá®üá¶',
                overallRisk: 'green',
                risks: {
                    security: { level: 'green', text: 'Very safe country with low crime rates. Standard precautions sufficient. Petty crime exists in urban areas. Remote areas require preparation due to wilderness conditions and weather.' },
                    health: { level: 'green', text: 'Excellent healthcare system with modern facilities. No significant health concerns. Winter weather can be severe. Lyme disease present in some regions during warmer months.' },
                    political: { level: 'green', text: 'Highly stable democratic government. Peaceful political environment with strong institutions. Occasional peaceful protests. Rule of law well-established.' }
                },
                advisory: 'Canada is very safe for travelers. Exercise normal precautions, prepare for weather conditions, especially in winter, and respect wilderness safety guidelines.',
                lastUpdated: 'January 21, 2026'
            },
            'Colombia': {
                name: 'Colombia',
                flag: 'üá®üá¥',
                overallRisk: 'yellow',
                risks: {
                    security: { level: 'yellow', text: 'Crime including robbery and theft common in cities. Kidnapping risk exists, particularly in rural areas. Armed groups active in remote regions. Tourist areas generally safe with precautions. Avoid rural areas.' },
                    health: { level: 'yellow', text: 'Healthcare quality varies. Good facilities in major cities like Bogot√° and Medell√≠n. Mosquito-borne diseases including Zika, dengue, and malaria in low-altitude areas. Yellow fever vaccination required for some regions.' },
                    political: { level: 'yellow', text: 'Improving stability after peace accord with FARC. Occasional protests and demonstrations. Organized crime and insurgent groups still active in remote areas. Government control strong in cities.' }
                },
                advisory: 'Exercise increased caution due to crime and terrorism. Stick to major cities and tourist areas. Avoid rural and border regions. Colombia has improved significantly but vigilance remains important.',
                lastUpdated: 'January 13, 2026'
            }
        };

        // ===== SIMPLIFIED SVG MAP DATA =====
        // Simplified world map with basic country shapes
        const mapPaths = {
            'USA': 'M150,180 L280,170 L290,200 L270,220 L240,230 L200,220 L170,210 L150,180 Z',
            'Canada': 'M120,100 L300,80 L320,120 L300,160 L150,170 L120,140 Z',
            'Mexico': 'M180,250 L240,245 L245,280 L220,300 L200,290 L180,250 Z',
            'Brazil': 'M350,350 L420,340 L450,380 L440,450 L400,470 L360,450 L350,350 Z',
            'Colombia': 'M280,310 L320,305 L330,340 L310,360 L290,350 L280,310 Z',
            'France': 'M480,180 L510,175 L515,195 L505,210 L485,205 L480,180 Z',
            'Turkey': 'M580,220 L620,215 L630,235 L615,245 L590,240 L580,220 Z',
            'Morocco': 'M460,250 L490,245 L495,275 L480,285 L465,275 L460,250 Z',
            'Egypt': 'M560,270 L590,265 L600,300 L585,320 L570,310 L560,270 Z',
            'South Africa': 'M570,470 L610,465 L620,500 L600,520 L580,510 L570,470 Z',
            'Ukraine': 'M570,160 L610,155 L620,175 L605,190 L580,185 L570,160 Z',
            'India': 'M700,280 L750,270 L770,320 L760,370 L730,380 L710,350 L700,280 Z',
            'Thailand': 'M760,310 L785,305 L795,340 L780,360 L765,350 L760,310 Z',
            'Japan': 'M860,210 L885,205 L895,230 L890,250 L870,245 L860,210 Z',
            'Australia': 'M820,420 L900,410 L920,460 L910,500 L860,510 L830,480 L820,420 Z'
        };

        // ===== STATE MANAGEMENT =====
        let selectedCountry = null;
        let hoveredCountry = null;

        // ===== DOM ELEMENTS =====
        const searchInput = document.getElementById('searchInput');
        const clearSearch = document.getElementById('clearSearch');
        const searchIcon = document.getElementById('searchIcon');
        const autocompleteDropdown = document.getElementById('autocompleteDropdown');
        const mapTooltip = document.getElementById('mapTooltip');
        const modalOverlay = document.getElementById('modalOverlay');
        const modal = document.getElementById('modal');
        const closeModalBtn = document.getElementById('closeModal');
        const worldMap = document.getElementById('worldMap');

        // ===== INITIALIZATION =====
        function init() {
            renderMap();
            setupEventListeners();
        }

        // ===== MAP RENDERING =====
        function renderMap() {
            worldMap.innerHTML = '';
            
            Object.keys(mapPaths).forEach(countryCode => {
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', mapPaths[countryCode]);
                path.setAttribute('class', 'country-path has-data');
                path.setAttribute('data-country', countryCode);
                path.setAttribute('role', 'button');
                path.setAttribute('aria-label', `View ${countryData[countryCode].name} information`);
                
                // Set color based on risk level
                const riskLevel = countryData[countryCode].overallRisk;
                const colors = {
                    green: '#10b981',
                    yellow: '#fbbf24',
                    orange: '#f97316',
                    red: '#ef4444'
                };
                path.style.fill = colors[riskLevel];
                
                // Add event listeners
                path.addEventListener('mouseenter', (e) => handleCountryHover(countryCode, e));
                path.addEventListener('mouseleave', handleCountryLeave);
                path.addEventListener('click', () => openCountryModal(countryCode));
                path.addEventListener('mousemove', updateTooltipPosition);
                
                worldMap.appendChild(path);
            });
        }

        // ===== TOOLTIP HANDLING =====
        function handleCountryHover(countryCode, event) {
            hoveredCountry = countryCode;
            const country = countryData[countryCode];
            
            const tooltipHTML = `
                <div class="tooltip-country">${country.name}</div>
                ${createTooltipRiskBars(country.risks)}
            `;
            
            mapTooltip.innerHTML = tooltipHTML;
            mapTooltip.classList.add('show');
            updateTooltipPosition(event);
        }

        function createTooltipRiskBars(risks) {
            const categories = [
                { key: 'security', label: 'Security' },
                { key: 'health', label: 'Health' },
                { key: 'political', label: 'Political' }
            ];
            
            return categories.map(cat => {
                const risk = risks[cat.key];
                const widths = { green: 25, yellow: 50, orange: 75, red: 100 };
                return `
                    <div class="tooltip-risk">
                        <div class="risk-label">${cat.label}</div>
                        <div class="risk-bar-container">
                            <div class="risk-bar risk-${risk.level}" style="width: ${widths[risk.level]}%"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function handleCountryLeave() {
            hoveredCountry = null;
            mapTooltip.classList.remove('show');
        }

        function updateTooltipPosition(event) {
            if (!hoveredCountry) return;
            
            const x = event.clientX;
            const y = event.clientY;
            const tooltipWidth = mapTooltip.offsetWidth;
            const tooltipHeight = mapTooltip.offsetHeight;
            
            let left = x + 15;
            let top = y + 15;
            
            // Keep tooltip on screen
            if (left + tooltipWidth > window.innerWidth) {
                left = x - tooltipWidth - 15;
            }
            if (top + tooltipHeight > window.innerHeight) {
                top = y - tooltipHeight - 15;
            }
            
            mapTooltip.style.left = left + 'px';
            mapTooltip.style.top = top + 'px';
        }

        // ===== MODAL HANDLING =====
        function openCountryModal(countryCode) {
            selectedCountry = countryCode;
            const country = countryData[countryCode];
            
            // Set modal title
            document.getElementById('modalTitle').innerHTML = `
                <span class="flag-icon">${country.flag}</span>
                <span>${country.name}</span>
            `;
            
            // Set overall risk badge
            const riskLabels = {
                green: 'Normal Precautions',
                yellow: 'Exercise Caution',
                orange: 'Reconsider Travel',
                red: 'Do Not Travel'
            };
            document.getElementById('overallRiskBadge').innerHTML = `
                <div class="overall-risk risk-${country.overallRisk}">
                    ${riskLabels[country.overallRisk]}
                </div>
            `;
            
            // Set modal body
            const modalBodyHTML = `
                <div class="advisory-section">
                    <div class="advisory-title">Travel Advisory</div>
                    <div class="advisory-text">${country.advisory}</div>
                </div>
                
                ${createRiskCategories(country.risks)}
                
                <div class="sources-section">
                    <div class="sources-title">Sources</div>
                    <div class="source-links">
                        <a href="#" class="source-link">US State Department</a>
                        <a href="#" class="source-link">UK Foreign Office</a>
                        <a href="#" class="source-link">France Diplomatie</a>
                    </div>
                    <div class="last-updated">Last updated: ${country.lastUpdated}</div>
                </div>
            `;
            
            document.getElementById('modalBody').innerHTML = modalBodyHTML;
            modalOverlay.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function createRiskCategories(risks) {
            const categories = [
                { key: 'security', label: 'Security Risk', icon: 'üõ°Ô∏è' },
                { key: 'health', label: 'Health Risk', icon: 'üè•' },
                { key: 'political', label: 'Political Stability', icon: 'üèõÔ∏è' }
            ];
            
            return categories.map(cat => {
                const risk = risks[cat.key];
                const labels = {
                    green: 'Low Risk',
                    yellow: 'Moderate Risk',
                    orange: 'High Risk',
                    red: 'Extreme Risk'
                };
                
                return `
                    <div class="risk-category">
                        <div class="category-header">
                            <div class="category-name">${cat.icon} ${cat.label}</div>
                            <div class="category-badge badge-${risk.level}">${labels[risk.level]}</div>
                        </div>
                        <div class="category-description">${risk.text}</div>
                    </div>
                `;
            }).join('');
        }

        function closeModal() {
            modalOverlay.classList.remove('show');
            document.body.style.overflow = '';
            selectedCountry = null;
        }

        // ===== SEARCH FUNCTIONALITY =====
        function handleSearch(query) {
            if (!query.trim()) {
                autocompleteDropdown.classList.remove('show');
                clearSearch.style.display = 'none';
                searchIcon.style.display = 'block';
                return;
            }
            
            clearSearch.style.display = 'block';
            searchIcon.style.display = 'none';
            
            const matches = Object.keys(countryData).filter(code => {
                const country = countryData[code];
                return country.name.toLowerCase().includes(query.toLowerCase());
            });
            
            if (matches.length > 0) {
                renderAutocomplete(matches);
                autocompleteDropdown.classList.add('show');
            } else {
                autocompleteDropdown.classList.remove('show');
            }
        }

        function renderAutocomplete(matches) {
            autocompleteDropdown.innerHTML = matches.map(code => {
                const country = countryData[code];
                return `
                    <div class="autocomplete-item" data-country="${code}" role="option" tabindex="0">
                        <span class="risk-dot risk-${country.overallRisk}"></span>
                        <span class="country-name">${country.name}</span>
                    </div>
                `;
            }).join('');
            
            // Add click listeners to autocomplete items
            document.querySelectorAll('.autocomplete-item').forEach(item => {
                item.addEventListener('click', () => {
                    const countryCode = item.getAttribute('data-country');
                    selectCountryFromSearch(countryCode);
                });
                
                // Keyboard accessibility
                item.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const countryCode = item.getAttribute('data-country');
                        selectCountryFromSearch(countryCode);
                    }
                });
            });
        }

        function selectCountryFromSearch(countryCode) {
            searchInput.value = countryData[countryCode].name;
            autocompleteDropdown.classList.remove('show');
            openCountryModal(countryCode);
            
            // Highlight country on map (optional enhancement)
            highlightCountryOnMap(countryCode);
        }

        function highlightCountryOnMap(countryCode) {
            // Remove previous highlights
            document.querySelectorAll('.country-path').forEach(path => {
                path.style.strokeWidth = '0.5';
                path.style.stroke = '#9ca3af';
            });
            
            // Highlight selected country
            const countryPath = document.querySelector(`[data-country="${countryCode}"]`);
            if (countryPath) {
                countryPath.style.strokeWidth = '2';
                countryPath.style.stroke = '#1f2937';
            }
        }

        function clearSearchInput() {
            searchInput.value = '';
            autocompleteDropdown.classList.remove('show');
            clearSearch.style.display = 'none';
            searchIcon.style.display = 'block';
            searchInput.focus();
        }

        // ===== EVENT LISTENERS =====
        function setupEventListeners() {
            // Search input
            searchInput.addEventListener('input', (e) => handleSearch(e.target.value));
            
            // Clear search button
            clearSearch.addEventListener('click', clearSearchInput);
            
            // Close modal
            closeModalBtn.addEventListener('click', closeModal);
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    closeModal();
                }
            });
            
            // Escape key to close modal
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modalOverlay.classList.contains('show')) {
                    closeModal();
                }
                if (e.key === 'Escape' && autocompleteDropdown.classList.contains('show')) {
                    autocompleteDropdown.classList.remove('show');
                }
            });
            
            // Click outside autocomplete to close
            document.addEventListener('click', (e) => {
                if (!searchInput.contains(e.target) && !autocompleteDropdown.contains(e.target)) {
                    autocompleteDropdown.classList.remove('show');
                }
            });
        }

        // ===== START APPLICATION =====
        document.addEventListener('DOMContentLoaded', init);

        // TODO: Replace dummy data with API calls to real travel advisory sources
        // TODO: Replace static SVG map with proper geographic data
        // TODO: Add backend for data updates and user preferences
        // TODO: Implement user authentication for saved preferences
        // TODO: Add push notifications for travel advisory changes
    </script>
</body>
</html>